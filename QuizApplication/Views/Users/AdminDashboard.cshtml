@{
    ViewData["Title"] = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid mt-4">
    <!-- Page Header -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <div>
            <h1 class="h3 mb-0 text-gray-800">
                <i class="fas fa-tachometer-alt text-danger me-2"></i>Admin Dashboard
            </h1>
            <p class="text-muted mb-0">Complete system overview and management controls</p>
        </div>
        <div>
            <span class="badge bg-danger fs-6 me-2">Administrator</span>
            <span class="text-muted">Welcome, @ViewBag.Username</span>
        </div>
    </div>

    <!-- Statistics Cards Row -->
    <div class="row mb-4">
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Total Users</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.TotalUsers</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-users fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Quiz Sessions</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.TotalQuizSessions</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-info shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Questions</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.TotalQuestions</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-question-circle fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Categories</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">@ViewBag.TotalCategories</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-tags fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Management Panel -->
        <div class="col-lg-8">
            <div class="card shadow mb-4">
                <div class="card-header py-3 bg-gradient-primary text-white">
                    <h6 class="m-0 font-weight-bold">System Management</h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <!-- User Management -->
                        <div class="col-md-6 mb-3">
                            <div class="card bg-light border-0 h-100">
                                <div class="card-body text-center">
                                    <div class="mb-3">
                                        <i class="fas fa-users-cog fa-3x text-primary"></i>
                                    </div>
                                    <h5 class="card-title">User Management</h5>
                                    <p class="card-text">Manage user accounts, roles, and permissions</p>
                                    <div class="d-grid gap-2">
                                        <a href="@Url.Action("Manage", "Users")" class="btn btn-primary">Manage Users</a>
                                        <a href="@Url.Action("Create", "Users")" class="btn btn-outline-primary btn-sm">Add New User</a>
                                    </div>
                                    <small class="text-muted mt-2 d-block">
                                        @ViewBag.AdminUsers Admins | @ViewBag.RegularUsers Users
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- Quiz Management -->
                        <div class="col-md-6 mb-3">
                            <div class="card bg-light border-0 h-100">
                                <div class="card-body text-center">
                                    <div class="mb-3">
                                        <i class="fas fa-tasks fa-3x text-success"></i>
                                    </div>
                                    <h5 class="card-title">Quiz Management</h5>
                                    <p class="card-text">Create and manage quiz categories and questions</p>
                                    <div class="d-grid gap-2">
                                        <a href="@Url.Action("Index", "Categories")" class="btn btn-success">Manage Categories</a>
                                        <a href="@Url.Action("Index", "Questions")" class="btn btn-outline-success btn-sm">Manage Questions</a>
                                    </div>
                                    <small class="text-muted mt-2 d-block">
                                        @ViewBag.TotalCategories Categories | @ViewBag.TotalQuestions Questions
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- Reports -->
                        <div class="col-md-6 mb-3">
                            <div class="card bg-light border-0 h-100">
                                <div class="card-body text-center">
                                    <div class="mb-3">
                                        <i class="fas fa-chart-bar fa-3x text-info"></i>
                                    </div>
                                    <h5 class="card-title">Reports & Analytics</h5>
                                    <p class="card-text">View system reports and user analytics</p>
                                    <div class="d-grid gap-2">
                                        <a href="#" class="btn btn-info">View Reports</a>
                                        <a href="#" class="btn btn-outline-info btn-sm">Export Data</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- System Settings -->
                        <div class="col-md-6 mb-3">
                            <div class="card bg-light border-0 h-100">
                                <div class="card-body text-center">
                                    <div class="mb-3">
                                        <i class="fas fa-cog fa-3x text-warning"></i>
                                    </div>
                                    <h5 class="card-title">System Settings</h5>
                                    <p class="card-text">Configure application settings and preferences</p>
                                    <div class="d-grid gap-2">
                                        <a href="#" class="btn btn-warning">Settings</a>
                                        <a href="#" class="btn btn-outline-warning btn-sm">Backup</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions & Profile -->
        <div class="col-lg-4">
            <!-- Admin Profile Card -->
            <div class="card shadow mb-4">
                <div class="card-header py-3 bg-gradient-danger text-white">
                    <h6 class="m-0 font-weight-bold">Admin Profile</h6>
                </div>
                <div class="card-body">
                    <div class="text-center">
                        <div class="mb-3">
                            <div class="bg-danger text-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                                <i class="fas fa-user-shield fa-2x"></i>
                            </div>
                        </div>
                        <h5>@ViewBag.Username</h5>
                        <p class="text-muted">@ViewBag.CurrentUser.Email</p>
                        <span class="badge bg-danger mb-3">Administrator</span>
                        
                        <div class="d-grid gap-2">
                            <a href="@Url.Action("Profile", "Users")" class="btn btn-outline-primary btn-sm">Edit Profile</a>
                            <a href="@Url.Action("Logout", "Users")" class="btn btn-outline-danger btn-sm">Logout</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Quick Actions</h6>
                </div>
                <div class="card-body">
                    <div class="d-grid gap-2">
                        <a href="@Url.Action("Create", "Users")" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-user-plus me-2"></i>Create User
                        </a>
                        <a href="@Url.Action("Create", "Categories")" class="btn btn-outline-success btn-sm">
                            <i class="fas fa-plus me-2"></i>Add Category
                        </a>
                        <a href="@Url.Action("Create", "Questions")" class="btn btn-outline-info btn-sm">
                            <i class="fas fa-question me-2"></i>Add Question
                        </a>
                        <hr>
                        <a href="#" class="btn btn-outline-warning btn-sm">
                            <i class="fas fa-download me-2"></i>System Backup
                        </a>
                        <a href="#" class="btn btn-outline-secondary btn-sm">
                            <i class="fas fa-history me-2"></i>View Logs
                        </a>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">System Status</h6>
                </div>
                <div class="card-body">
                    <div class="text-center">
                        <i class="fas fa-check-circle fa-3x text-success mb-3"></i>
                        <h6>All Systems Operational</h6>
                        <small class="text-muted">Last updated: @DateTime.Now.ToString("MMM dd, yyyy HH:mm")</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .border-left-primary {
        border-left: 0.25rem solid #4e73df !important;
    }
    .border-left-success {
        border-left: 0.25rem solid #1cc88a !important;
    }
    .border-left-info {
        border-left: 0.25rem solid #36b9cc !important;
    }
    .border-left-warning {
        border-left: 0.25rem solid #f6c23e !important;
    }
    .bg-gradient-primary {
        background: linear-gradient(45deg, #007bff, #0056b3);
    }
    .bg-gradient-danger {
        background: linear-gradient(45deg, #dc3545, #c82333);
    }
    .text-gray-800 {
        color: #5a5c69 !important;
    }
    .text-gray-300 {
        color: #dddfeb !important;
    }
    .font-weight-bold {
        font-weight: 700 !important;
    }
    .text-xs {
        font-size: 0.7rem;
    }
    .card {
        transition: transform 0.2s ease-in-out;
    }
    .card:hover {
        transform: translateY(-2px);
    }
</style>
